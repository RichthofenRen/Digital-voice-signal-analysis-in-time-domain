tic
clc;clear;
%样本1_3组
% p11=[455 300 353 2998 3346 472 514 2687 833 1323];
% p12=[508 467 678 3091 3978 458 328 3002 776 1286];
% p13=[413 435 849 2575 3819 407 404 3038 946 1606];
% p21=[0.8496 0.4019 1.7795 5.1184 11.2117 0.7101 0.7248 4.6688 1.0467 3.8462];
% p22=[1.3738 0.4503 1.6905 7.2207 6.8462  0.7154 0.7173 6.9208 1.1798 4.1855];
% p23=[0.6789 0.3426 1.3583 5.7408 11.9020 0.8251 0.8364 7.3462 1.0257 3.7940];
% p31=[0.7929 0.6914 4.3209 0.5220 12.7553 0.5794 0.9385 1.4427 2.1867 1.6096];
% p32=[1.1070 0.6892 5.8926 1.9999 5.1120  0.3717 1.5617 4.4420 3.0691 1.4508];
% p33=[1.1314 0.5787 3.2930 0.4937 11.7849 0.5296 1.3558 3.9459 2.0292 2.7507];
% p=[p11 p13;p21 p23;p31 p33]           %输入矩阵

%样本2_3组
% p11=[2.4774 4.3563 4.8451 12.7591 14.5064 1.5270 3.1289 12.1049 5.2920 5.7814];
% p12=[2.1100 3.8077 4.5196 13.8866 14.9400 1.7315 3.1165 9.4814  5.0881 5.0389];
% p13=[2.1009 3.4108 5.0379 14.2915 15.1216 1.6890 2.8095 10.3893 4.7546 5.2181];
% p21=[0.6410 0.5850 1.1818 2.9818 12.4702 0.8601 1.1595 2.5245 0.9259 4.0223];
% p22=[0.5902 0.4501 1.1593 3.9889 11.6610 0.9684 1.057 3.6773 0.9811 3.1991];
% p23=[0.7268 0.7526 1.1650 4.1477 14.1729 0.8100 0.7921 4.4374 1.1667 3.6050];
% p31=[0.8052 5.3636 3.1119 2.3366 2.1164 0.3961 2.0440 3.4146 4.9113 0.6910];
% p32=[0.9701 2.6975 2.5744 3.3391 2.9528 0.5572 1.9092 3.0460 4.9827 0.6920];
% p33=[0.9262 1.8923 1.3061 3.0945 2.2059 0.5347 1.7469 2.3837 4.1668 1.0186];
% p41=[0.8162 0.5546 2.5088 0.5213 3.1399 0.4744 2.7306 0.9768 0.9921 1.5156];
% p42=[0.6756 0.5068 2.6854 0.5820 2.8769 0.7526 1.3271 1.0770 1.4913 1.6983];
% p43=[0.7651 0.8214 2.8440 0.4963 3.2241 0.5084 1.5382 1.1370 1.5800 2.8348];
% p=[p11 p12 p13;p21 p22 p23;p31 p32 p33;p41 p42 p43];

%样本3_10组
%averageZCR
p11=[1.2443 1.6488 2.3390 9.5281 14.2167 0.9669 1.1132 8.3072 3.1890 9.2963];
p12=[1.4052 1.5148 2.8138 22.4638 16.1327 0.9476 1 9.1770 2.9623 3.2475];
p13=[1.2366 1.9171 2.7939 22.9348 17.3301 1.2647 1 8.9877 3.4702 7.9521];
p14=[0.8309 1.1702 2.7122 7.6762 15.9223 0.5090 1.0462 9.2607 2.4605 7.6136];
p15=[1.2439 1.2841 2.3333 9.8982 16.7043 0.8618 1.1505 9.4068 3.3289 6.0507];
p16=[1.1100 1.3706 2.1533 9.2130 13.5991 0.4799 0.9538 8.9453 2.9787 8.0339];
p17=[1.1906 1.7207 2.4692 8.5598 15.1435 0.3746 1.2246 8.9573 3.5664 3.9222];
p18=[1.1404 1.4556 2.8276 11.7200 14.0622 0.7161 1.1793 7.5766 3.4000 5.4275];
p19=[1.4013 1.5628 2.4091 9.4589 18.6986 0.8497 1.2881 7.7262 3.6815 5.3671];
p110=[1.4103 1.6938 2.1807 8.7195 16.2579 0.5569 1.0378 9.0759 3.0131 4.9220];
%divZCR
p21=[1.3505 0.9103 1.3590 8.3263 7.9907 1.2479 1.1852 8.9347 1.0430 13.3429];
p22=[1.2797 0.8551 1.4286 0.9796 5.6097 0.6832 1.0494 9.3700 1.3550 11.1266];
p23=[1.1457 0.6372 104730 1.0095 3.2966 0.8786 1.2651 10.3161 1.0630 18.0328];
p24=[0.6042 0.7054 1.4481 0.9487 4.1530 0.3148 1.4578 9.8894 1.5616 17.6111];
p25=[0.9402 0.7937 1.7870 11.0919 4.7537 0.9587 1.8158 11.1978 1.1350 15.7000];
p26=[1.0296 0.7647 1.2180 9.2864 15.8629 0.4444 1.9815 7.9453 1.1538 16.5556];
p27=[0.5551 0.6500 1.4318 8.3163 5.8211 0.1474 1.3367 11.1860 1.0158 10.7667];
p28=[1.3617 1.0154 1.2937 10.2213 9.9867 0.7197 1.2143 8.7358 1.5888 11.4737];
p29=[1.5394 0.8735 1.4462 8.7982 2.7092 1.0472 1.3030 8.6303 0.9461 11.2899];
p210=[1.0553 0.8342 1.3529 12.6624 3.1135 0.8788 1.8657 9.8636 1.5191 11.6182];
%averageAMP
p31=[0.1873 0.3280 0.2773 0.3013 0.5354 0.1445 0.2701 0.5300 0.4857 0.3985];
p32=[0.1997 0.3197 0.7225 0.2090 0.7248 0.1364 0.2441 0.8008 0.5772 0.1319];
p33=[0.2464 0.3746 0.4431 0.6242 1.8227 0.1988 0.2011 0.5340 0.4564 0.3143];
p34=[0.1465 0.2962 0.3617 0.1547 0.6962 0.1067 0.2160 0.5786 0.4288 0.2947];
p35=[0.1591 0.3133 0.3459 0.2012 0.8401 0.1235 0.2782 0.4687 0.5937 0.2749];
p36=[0.1790 0.3081 0.2498 0.2183 0.4948 0.1134 0.2455 0.5829 0.3940 0.3968];
p37=[0.1592 0.3108 0.3064 0.1909 0.6175 0.0924 0.2738 0.4805 0.3869 0.1796];
p38=[0.1937 0.3641 0.6288 0.3125 0.7935 0.1103 0.2525 0.4269 0.5491 0.2552];
p39=[0.1922 0.3379 0.2922 0.1632 1.3979 0.1220 0.2861 0.5419 0.4385 0.2124];
p310=[0.1792 0.3752 0.3721 0.1966 0.6242 0.1001 0.2892 0.4353 0.4192 0.1840];
%divAMP
p41=[0.9810 0.7205 2.7427 1.2051 3.2443 1.0699 2.0021 1.7876 1.6223 2.7968];
p42=[1.0089 0.7098 4.0127 1.4816 2.9363 0.6030 2.2308 2.0506 2.7955 2.3314];
p43=[1.9327 0.8661 3.1050 0.8885 2.7629 1.0206 2.3233 1.4584 1.7401 1.7821];
p44=[0.5711 0.6733 2.9685 0.8464 2.5151 0.4201 2.1607 2.1043 3.8245 2.1401];
p45=[0.5793 0.8509 3.6226 1.0085 4.3287 0.6735 2.9601 1.4281 2.2745 2.3136];
p46=[0.6663 0.7173 1.9603 0.8443 2.8040 0.4073 2.6844 1.5628 2.1311 2.5486];
p47=[0.5151 0.8416 3.3539 0.5888 2.3743 0.4236 2.0250 1.1386 2.1943 2.6485];
p48=[0.1319 0.8621 3.0311 1.3510 2.9535 0.4890 1.1993 1.4182 2.7081 1.4715];
p49=[0.9687 0.7283 2.5502 0.6951 1.7405 0.7080 2.2901 1.4810 1.8645 1.6187];
p410=[0.5648 0.9454 2.2878 1.1622 1.5787 0.7092 1.8483  1.2433 1.8392 1.6684];
%特征矩阵
p=[p11 p12 p13 p14 p15 p16 p17 p18 p19 p110;p21 p22 p23 p24 p25 p26 p27 p28 p29 p210;p31 p32 p33 p34 p35 p36 p37 p38 p39 p310;p41 p42 p43 p44 p45 p46 p47 p48 p49 p410];
% xlswrite('C:\Users\dannis\Desktop',p);
pr=minmax(p);        %输入参数范围
%期望输出
goal = [eye(10,10) eye(10,10) eye(10,10) eye(10,10) eye(10,10) eye(10,10) eye(10,10) eye(10,10) eye(10,10) eye(10,10)];   
net=newff(pr,[7,10],{'logsig','logsig'});
net.trainParam.show = 10; %显示的间隔次数
net.trainParam.lr = 0.05; %
net.trainparam.min_grad = 1e-15; %最小执行梯度
net.trainParam.goal = 1e-5; %性能目标值
net.trainParam.epochs = 5000;%最大训练次数
net = train(net,p,goal);
% x = [254;0.3880;0.7692]
y0=sim(net,p);
% y=sim(net,x)
% [a,b]=max(y);
% b-1
toc
